# Media Server - 简易图床服务

一个轻量级的文件托管服务，支持图片/视频/音频上传，返回公网可访问的URL。

## 快速部署

1. 将 `media_server.exe` 上传到有公网IP的服务器
2. 运行：

```bash
# 默认80端口
./media_server.exe

# 自定义端口
./media_server.exe --port 8080
```

## 使用方式
公网ip为 http://112.124.70.81/

### 方式一：网页上传

浏览器访问 `http://你的公网IP/`，支持点击或拖拽上传。

### 方式二：命令行上传

```bash
curl -X POST -F "file=@图片.jpg" http://你的公网IP/upload
```

返回示例：
```json
{
  "success": true,
  "filename": "20251227_143052_a1b2c3d4.jpg",
  "url": "/files/20251227_143052_a1b2c3d4.jpg"
}
```

### 访问已上传的文件

```
http://你的公网IP/files/20251227_143052_a1b2c3d4.jpg
```

## API 接口

| 接口 | 方法 | 说明 |
|------|------|------|
| `/` | GET | 网页上传界面 |
| `/upload` | POST | 上传文件，返回URL |
| `/files/{filename}` | GET | 访问已上传的文件 |
| `/list` | GET | 列出所有已上传文件 |

## 支持的文件类型

- **图片**: jpg, jpeg, png, gif, webp, bmp, svg, ico
- **视频**: mp4, webm, avi, mov, mkv, flv
- **音频**: mp3, wav, ogg, flac, aac, m4a

## 限制

- 单文件最大 100MB
- 文件存储在 `uploads/` 目录下

## 命令行参数

```
--port, -p    服务端口 (默认: 80)
--host        监听地址 (默认: 0.0.0.0)
```
